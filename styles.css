:root{--primary:#2f6cf6;--bg:#f7f8fb;--card:#ffffff;--text:#1f2937;--muted:#6b7280;--border:#e5e7eb;--accent:#10b981}
*{box-sizing:border-box}html,body{height:100%}
html{scroll-behavior:smooth}
body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
.container{max-width:1100px;margin:0 auto;padding:16px}
header{padding-top:24px}
h1{margin:0 0 6px 0;font-size:28px}
.subtitle{margin:0;color:var(--muted)}
.grid-3{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
.config-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}

/* Card */
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 1px 3px rgba(0,0,0,.04)}

/* Inputs */
label{display:block;font-weight:600;margin-bottom:6px}
input[type=file],select,textarea,input[type=text],input[type=number]{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:8px;background:#fff;color:var(--text)}
select:disabled, input:disabled, textarea:disabled{opacity:.6}
.file-group small,.select-group small{display:block;color:var(--muted);margin-top:6px}
input::placeholder,textarea::placeholder{color:#6b7280}
.btn{appearance:none;border:none;background:var(--primary);color:#fff;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px;transition:transform .18s ease, box-shadow .18s ease, opacity .18s ease}
.btn:hover{opacity:.95;transform:translateY(-1px);box-shadow:0 6px 14px rgba(0,0,0,.08)}
.btn:disabled{opacity:.6;cursor:not-allowed}
.btn.secondary{background:#fff;border:1px solid var(--border);color:var(--text)}
.actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}

/* Preview */
.preview{display:grid;grid-template-columns:1fr;gap:12px;margin-top:12px}
.preview .card{margin:0;transition:transform .2s ease, box-shadow .2s ease}
.preview .card:hover{transform:translateY(-2px);box-shadow:0 10px 20px rgba(0,0,0,.06)}
.table-wrap{overflow:auto;border:1px dashed var(--border);border-radius:10px;background:#fff}
.table{border-collapse:collapse;width:100%;min-width:540px}
.table td,.table th{border:1px solid var(--border);padding:6px 8px;text-align:center;font-size:12px}
.table th{background:#f3f4f6;color:inherit}
.footer-note{margin-top:8px;color:var(--muted);font-size:12px}
.summary-card{border:1px dashed var(--border);border-radius:10px;padding:12px;background:#fff}
.summary-table{border-collapse:collapse;width:100%}
.summary-table th,.summary-table td{border:1px solid var(--border);padding:6px 8px;text-align:left;font-size:12px}
.summary-table th{background:#f3f4f6}
.page-break{break-after:page}

/* Template Mapping */
#templateMappingSection .table{min-width:480px}
#templatePreview td{cursor:pointer}

/* Step headers */
section.card > h2{display:flex;align-items:center;gap:8px;margin-top:4px}
section.card > h2::before{content:"";display:inline-block;width:8px;height:8px;border-radius:999px;background:var(--accent)}

/* Responsive */
@media (max-width:1000px){.grid-3{grid-template-columns:1fr}.config-grid{grid-template-columns:1fr 1fr}.preview{grid-template-columns:1fr}}

/* Navbar */
.navbar{position:sticky;top:0;z-index:50;background:#ffffffd9;backdrop-filter:saturate(140%) blur(6px);border-bottom:1px solid var(--border)}
.nav-inner{display:flex;align-items:center;justify-content:space-between;padding:10px 16px}
.brand{font-weight:800;letter-spacing:.3px}
.nav-links{display:flex;gap:14px}
.nav-links a{position:relative;display:inline-block;padding:8px 10px;border-radius:8px;color:var(--text);transition:background-color .2s ease}
.nav-links a:hover{background:#f3f4f6}
.nav-links a::after{content:"";position:absolute;left:10px;right:10px;bottom:6px;height:2px;background:transparent;border-radius:2px;transition:background-color .25s ease}
.nav-links a:hover::after{background:var(--accent)}

/* Anchor offset so sticky navbar doesn't cover headings */
[id]{scroll-margin-top:72px}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce){
  html{scroll-behavior:auto}
  .btn,.preview .card,.nav-links a{transition:none}
}

@media (max-width:700px){
  .nav-inner{flex-wrap:wrap;gap:8px}
  .nav-links{width:100%;justify-content:space-between}
}

/* Exam Info Section */
.exam-info{background:#f9fafb;border:1px solid var(--border);border-radius:10px;padding:20px;margin-bottom:20px}
.exam-info h3{margin:0 0 12px 0;color:var(--primary);font-size:20px}
.exam-details{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.exam-details > div{padding:8px;background:#fff;border-radius:6px;border:1px solid var(--border)}

/* Attendance Container */
.attendance-container{margin-top:20px;display:none}
.attendance-container.active{display:block}
.table-responsive{overflow-x:auto;border:1px solid var(--border);border-radius:10px;background:#fff}

/* Attendance Table */
.attendance-table{width:100%;border-collapse:collapse;font-size:13px}
.attendance-table thead{background:#f3f4f6;position:sticky;top:0}
.attendance-table th{padding:12px 8px;border:1px solid var(--border);font-weight:600;text-align:center;color:var(--text)}
.attendance-table td{padding:10px 8px;border:1px solid var(--border);text-align:center}
.attendance-table tbody tr:nth-child(even){background:#f9fafb}
.attendance-table tbody tr:hover{background:#f0f9ff}
.attendance-table .text-right{text-align:right;font-weight:600}

/* Signature Row */
.signature-row{padding:20px !important}
.signature-row > div{display:flex;justify-content:space-around;gap:40px;flex-wrap:wrap}
.signature-box{flex:1;min-width:200px;text-align:center}
.signature-box > div:first-child{font-weight:600;margin-bottom:8px;color:var(--muted)}
.signature-line{border-top:1px solid var(--text);margin-top:40px;padding-top:4px}

/* Footer Totals */
.attendance-table tfoot tr{background:#f3f4f6;font-weight:600}
.attendance-table tfoot td{padding:12px 8px;border:1px solid var(--border)}

/* Print Styles */
@media print{
  .navbar,.actions,footer,section.card > h2::before{display:none}
  .card{box-shadow:none;border:none;padding:0}
  .attendance-table{font-size:11px}
  .attendance-table th,.attendance-table td{padding:6px 4px}
  body{background:#fff}
  .signature-line{margin-top:60px}
}

/* File Group Spacing */
.file-group{margin-bottom:16px}
.file-group:last-child{margin-bottom:0}

/* Attendance Cell Styling */
.attendance-cell{min-width:80px;height:40px;border:1px solid var(--border) !important}

/* Hall Preview */
.hall-card{background:#fff;border:1px solid var(--border);border-radius:10px;padding:16px;margin-bottom:16px}
.hall-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.hall-header strong{font-size:16px;color:var(--primary)}
